# smart-storage

📦 Умный склад (Smart Warehouse)

Кейс для Чемпионата от Ростелеком: "Умный склад - Система управления складской логистикой с использованием автономных роботов"

🌐 Контекст и Актуальность

Современные складские комплексы Ростелекома активно внедряют автоматизацию, в частности, автономных роботов для инвентаризации и контроля остатков продукции. Роботы сканируют товары и передают данные в центральную систему управления.

Текущие решения разрознены. Требуется создать современное веб-приложение, которое станет единой точкой контроля складских операций с использованием Искусственного Интеллекта (ИИ) для прогнозирования и оптимизации.

🎯 Описание Задачи

Разработать веб-приложение "Умный склад", состоящее из трех основных страниц, backend-сервиса с REST API и интеграции с ИИ для предиктивной аналитики. Система должна принимать данные от автономных роботов, обрабатывать их, предоставлять аналитику и прогнозы по складским остаткам.

🚀 Архитектура Приложения

Приложение состоит из:

    Frontend (Веб-приложение): Три обязательные страницы (Авторизация, Текущий мониторинг, Исторические данные).

    Backend (Сервис с REST API): Обработка данных, авторизация, логика.

    Интеграция с ИИ-сервисом: Для предиктивной аналитики.

    База данных (PostgreSQL/MongoDB): Для хранения данных пользователей, роботов, товаров, истории инвентаризации и прогнозов ИИ.

    WebSocket: Для real-time обновлений на странице мониторинга.

Рекомендуемый Стек Технологий

    Backend: Node.js + Express + TypeScript, Python + FastAPI + SQLAlchemy, Java + Spring Boot, или C# + ASP.NET Core.

    Frontend: React + Redux Toolkit + Material-UI, Vue 3 + Vuex + Vuetify, или Angular + RxJS + Angular Material.

    База данных: PostgreSQL (рекомендуется) или MongoDB.

    Дополнительно: Redis (кеширование, WebSocket), Socket.io, Jest/Pytest.

💻 Структура Страниц

1. Страница Авторизации (/login)

    Назначение: Вход в систему с разграничением прав доступа.

    Элементы: Логотип, центрированная форма (логин/пароль), чекбокс "Запомнить меня", кнопка "Войти", ссылка "Забыли пароль?", индикатор загрузки, блок ошибок.

    Валидация: Корректный email, пароль ≥8 символов.

    После успеха: Сохранение JWT токена в localStorage и редирект на /dashboard.

2. Страница Текущего Сбора Данных (/dashboard)

    Назначение: Мониторинг работы роботов и состояния склада в режиме реального времени.

    Основные Блоки (Обновление каждые 5 сек, WebSocket):

        Карта Склада: Интерактивная SVG-карта с сеткой зон (A-Z, 1-50). Отображение роботов (зеленые - активные, желтые - low battery, красные - offline). Цветовая индикация зон (проверена/требует проверки/критические остатки).

        Статистика в реальном времени: Карточки с ключевыми метриками (Активных роботов, Проверено сегодня, Критических остатков, Средний заряд батарей) и график активности.

        Таблица последних сканирований: До 20 записей. Автоскролл. Статус (ОК/Низкий остаток/Критично).

        Предиктивная аналитика от ИИ: Прогноз на 7 дней, список из 5 товаров с критическим прогнозом. Кнопка "Обновить прогноз". Индикатор достоверности.

3. Страница Исторических Данных (/history)

    Назначение: Анализ исторических данных инвентаризации и формирование отчетов.

    Элементы:

        Панель Фильтров: Выбор периода ("От"/"До", Быстрые фильтры), фильтры по зонам, категориям товаров, статусу, поиск по артикулу/названию.

        Сводная Статистика: Всего проверок, Уникальных товаров, Выявлено расхождений, Среднее время инвентаризации.

        Основная Таблица Данных: Колонки: Дата и время, ID робота, Зона, Артикул, Название, Ожидаемое/Фактическое количество, Расхождение, Статус. Сортировка, пагинация, выбор записей.

        Панель Действий: "Экспорт в Excel", "Экспорт в PDF", "Построить график".

        График Тренда Остатков: Линейный график по выбранным товарам.

➕ Дополнительный Функционал

    Загрузка CSV (Модальное окно): Открывается по кнопке "Загрузить CSV". Drag & Drop область, прогресс-бар, предпросмотр первых 5 строк.

    Требования к CSV: Разделитель ";", кодировка UTF-8, обязательные колонки: product_id, product_name, quantity, zone, date.

⚙️ Техническая Реализация

Backend API Endpoints

Назначение	Метод	Эндпоинт	Заголовки	Запрос (Body/Query)	Ответ
Авторизация	POST	/api/auth/login	-	{ email, password }	{ token, user: { id, name, role } }
Прием данных от робота	POST	/api/robots/data	Authorization: Bearer robot_token	{ robot_id, timestamp, location, scan_results, battery_level }	{ status, message_id }
Real-time обновления	WS	/api/ws/dashboard	-	-	{ type: "robot_update" | "inventory_alert", data: {...} }
Текущее состояние	GET	/api/dashboard/current	-	-	{ robots: [], recent_scans: [], statistics: {} }
Исторические данные	GET	/api/inventory/history	-	?from=date&to=date&zone=A&status=critical	{ total, items: [], pagination: {} }
Загрузка CSV	POST	/api/inventory/import	Content-Type: multipart/form-data	file	{ success, failed, errors: [] }
Прогноз ИИ	POST	/api/ai/predict	-	{ period_days, categories }	{ predictions: [], confidence }
Экспорт данных	GET	/api/export/excel	-	?ids=1,2,3...	Бинарный файл

Интеграция с ИИ-сервисом

Возможные варианты:

    OpenAI GPT API (через формирование промпта).

    Яндекс YandexGPT API (на русском языке).

    Локальная ML-модель (на Python/FastAPI, например, на основе линейной регрессии).

Структура Базы Данных (PostgreSQL)

Ключевые таблицы:

    users: id, email, password_hash, name, role (operator, admin, viewer).

    robots: id, status, battery_level, last_update, current_zone, current_row, current_shelf.

    products: id, name, category, min_stock, optimal_stock.

    inventory_history: id, robot_id (FK), product_id (FK), quantity, zone, row_number, shelf_number, status (OK, LOW_STOCK, CRITICAL), scanned_at.

    ai_predictions: id, product_id (FK), prediction_date, days_until_stockout, recommended_order, confidence_score.

🛠️ Развертывание (Docker-compose)

Предоставляется файл docker-compose.yml для запуска всех сервисов одной командой.
YAML

version: '3.8'
services:
  # PostgreSQL база данных
  postgres:
    image: postgres:15
    # ... конфигурация ...
    ports:
      - "5432:5432"

  # Redis для кеширования и WebSocket
  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

  # Backend API
  backend:
    build: ./backend
    # ... переменные окружения (DATABASE_URL, REDIS_URL, JWT_SECRET, AI_API_KEY)
    ports:
      - "3000:3000"
    depends_on:
      postgres: { condition: service_healthy }
      redis: { condition: service_healthy }

  # Frontend приложение
  frontend:
    build: ./frontend
    # ... переменные окружения (REACT_APP_API_URL, REACT_APP_WS_URL) 
    ports:
      - "80:80"
    depends_on:
      - backend

  # Эмулятор роботов для тестирования
  robot_emulator:
    build: ./robot_emulator
    # ... переменные окружения (API_URL, ROBOTS_COUNT: 5, UPDATE_INTERVAL: 10)
    depends_on:
      - backend

volumes:
  postgres_data:

✅ Критерии Оценки (Кратко)

Категория	Баллы
Функциональность	40
Корректная авторизация с JWT	5
Real-time данные через WebSocket	8
Работающая карта склада	7
Фильтрация и поиск в истории	5
Корректная загрузка и парсинг CSV	5
Интеграция с ИИ и прогнозы	10
Архитектура и Код	30
Чистая архитектура	8
Обработка ошибок	5
Использование паттернов	5
Оптимизация запросов к БД	5
Наличие unit-тестов	7
Пользовательский Опыт	20
Responsive дизайн	5
Логичная навигация	4
Скорость загрузки страниц < 2 сек	5
Развертывание и Документация	10
Работающий docker-compose	3
README с инструкциями	2
API документация (Swagger)	3
Комментарии в коде	2

Минимальные Требования для Зачета

    Все три страницы с базовым функционалом.

    REST API для приема данных от роботов.

    WebSocket соединение (хотя бы для одного типа обновлений).

    Загрузка CSV с валидацией формата.

    Интеграция с любым ИИ-сервисом (даже mock-реализация, если архитектура правильная).

    Docker-compose файл для запуска всех сервисов.

    Базовая документация в README файле.

Ростелеком: Технологии возможностей


